## react hand-slice TrafficLight
```js
import React, {useEffect,useState} from 'react'
import './TrafficLight.css'

const TrafficLight = () => {
    const lightsConfig = {
        {color: 'red', duration: 20, flashDuration: 5}
        {color: 'yellow', duration: 5, flashDuration: 3}
        {color: 'green', duration: 10, flashDuration: 5}
    }

    const[currentLightIndex,setCurrentLightIndex] = useState(0)
    const [isFlashing,setIsFlashing] = useState(false)

    useEffect(() => {
        const currentLight = lightsConfig[currentLightIndex]
        const totalDuration = currentLight.duration + currentLight.flashDuration
        let timer
        const startFlashing = () => {
            const flashInterval = setInterval(() => {
                setIsFlashing(prev => !prev)
            },500)

            return () => clearInterval(flashInterval)
        }

        if(currentLightIndex < lightsConfig.length){
            timer = setTimeout(() => {
                setIsFlashing(false)
                setCurrentLightIndex((prevIndex) => (prevIndex + 1) % lightsConfig.length)
            },totalDuration * 1000)

            if(currentLight.flashDuartion > 0){
                setTimeout(() => {
                    setIsFlashing(true)
                    startFlashing()
                }, (currentLight.duartion * 1000))
            }
        }

        return () => clearTimeout(timer)
    },[currentLightIndex,lightsConfig])

    return(
        <div className="traffic-light">
            {lightsConfig.map(light,index) => (
                <div key={light.color} className={ `light ${light.color} ${index === currentLightIndex ? (isFlashing?'active' : '') : ''}`}>
                </div>
            )}
        </div>
    )
}

export default TrafficLight
```