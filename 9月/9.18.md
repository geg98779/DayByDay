## Code Point vs Code Unit

### 📌 1. Unicode 码位 (Code Point)
定义：Unicode 给每个字符分配的唯一编号，范围是 U+0000 ~ U+10FFFF（共 111 万多个可能的字符）。
表示方法：常写作 U+XXXX。
例如：
A → U+0041
中 → U+4E2D
😀 (grinning face) → U+1F600
所以 码位就是字符在 Unicode 里的 ID。

### 📌 2. UTF-16 码元 (Code Unit)
定义：UTF-16 是一种存储/传输 Unicode 的编码方式。
它把字符的码位转换成一段二进制。
单位是 16 位（2 字节），这就是 “码元”。
情况分两种：

基本多文种平面 (BMP)：U+0000 ~ U+FFFF

直接用 1 个 16 位码元存储
例如：
A (U+0041) → 0x0041
中 (U+4E2D) → 0x4E2D
辅助平面 (U+10000 ~ U+10FFFF)：

需要用一对 代理项 (surrogate pair) 表示
即 2 个 16 位码元拼起来
例如：
😀 (U+1F600) → 0xD83D 0xDE00
实际占 4 字节

### 📌 3. 在 JavaScript 里的体现
JavaScript 的字符串底层是 UTF-16 编码。

charCodeAt
返回某个位置的 UTF-16 码元（16 位整数）。

对 BMP 字符，没问题。
对辅助平面字符，只能取到代理对的其中一个码元。
"中".charCodeAt(0)  // 20013 (0x4E2D) ✅
"😀".charCodeAt(0)  // 55357 (0xD83D) ❌ 不完整
"😀".charCodeAt(1)  // 56832 (0xDE00) ❌ 另一半
codePointAt
返回 Unicode 码位（可以正确处理代理对）。

"中".codePointAt(0)  // 20013 (U+4E2D)
"😀".codePointAt(0)  // 128512 (U+1F600) ✅