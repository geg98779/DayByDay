## hand-slice js
- 图片懒加载
```js
const loader = (url) => {
    return new Promise((resolve, reject) => {
        const image = new Image()
        image.image = () => {
            console.log("@success")
            resolve()
        }
        image.onerror = () => {
            console.log("@failed")
            reject()
        }
        image.src = url
    })
}

const preload = () => {
    const preLoaderArray = []
    imgs.forEach((url) => {
        preLoaderArray.push(loader(url))
    })
    return Promise.allSettled(preLoaderArray)
}
```

- object.freeze
```js
const object_freeze = (object) => {
    for(key in object) {
        const type = Object.prototype.toString.call(object[key])
        if(type === "[object Object]" || type === "[object array]"){
            object_Freeze(object[key])
        }else{
            Object.defineProperty(object,key,{
                writable: false
            })
        }
    }
    Object.seal(object)
}
```

- 手写jsonp
```js
function addScript(src) {
    const script = document.createElement("script")
    script.src = src
    script.type = "text/javascript"
    document.body.appendChild(script)
}

addScript("http://xxx.xxx.com/xxx.js?callback=handleRes")

function handleRes(res) {
    console.log(res)
}
```