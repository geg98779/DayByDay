## TreeShaking 是什么，它的原理又是什么呢(字节一面)
简单总结:
a.tree shaking 是一种死代码剔除技术
b.tree shaking 是根据模块间的信息来完成死代码的剔除的
原理:
Tree shaking 利用的是模块间的信息，进行的死代码删除。死代码的删除有很多方式，比如代码压缩时候的compress，但它不是 tree shaking，只是简单的消除冗余、简化表达式
Tree shaking 的原理在于需要利用 ESM 之间的引用信息，即它需要先去构建初代码的依赖关系图谱，然后
去标记出未被使用的代码并确定模块之间的依赖关系，最后再消除未使用过的代码。但是，受限于 JS 的动态性与模块的复杂性(比如各种意料之外的副作用的产生)，目前并没有哪个bundler 可以对 tree shaking 做到极致，我们在编写代码时仍需要有意识的去优化代码结构(比如避免无意义的赋值)
延伸:
但是，在某些场景下，CommonJS 之间也能分析出模块间的引用关系，也能实现 tree shaking 针对于非 JS 文件， Bundler(打包器)的老大哥 Webpack(Vite)不支持噢(只是基于模块语法的原生不支持 但Webpack 和 Vite（通过 Rollup）都有插件和加载器可以对非 JS 资源进行优化) 支持 JSON 文件的 treeshaking(你的 JSON 文件中某个字段没用到，直接帮你删了，比如package.json 打包之后就留个 name 和version 字段)。至于 CSS 文件，则更多的借助外部的库，比如 purgecss、cssnano
最重要的一点，tree shaking 就是一个概念，并没有具体实现的规范。所以各家 bundler 可以天马行空的实现